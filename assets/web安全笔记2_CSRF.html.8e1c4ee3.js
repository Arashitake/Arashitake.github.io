import{_ as a,o as t,c as i,b as e,e as r,d as o}from"./app.0d4c2068.js";const s={},n={class:"custom-container info"},c={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},l=e("path",{d:"M13 1.188C6.477 1.188 1.188 6.477 1.188 13S6.477 24.813 13 24.813 24.813 19.523 24.813 13c0-6.523-5.29-11.812-11.813-11.812Zm2.459 18.307c-.608.24-1.092.422-1.455.548a3.838 3.838 0 0 1-1.262.189c-.736 0-1.309-.18-1.717-.539a1.74 1.74 0 0 1-.611-1.367c0-.215.015-.435.045-.659a8.23 8.23 0 0 1 .147-.759l.761-2.688c.067-.258.125-.503.171-.731.046-.23.068-.441.068-.633 0-.342-.071-.582-.212-.717-.143-.135-.412-.201-.813-.201-.196 0-.398.029-.605.09-.205.063-.383.12-.529.176l.201-.828c.498-.203.975-.377 1.43-.521a4.225 4.225 0 0 1 1.29-.218c.731 0 1.295.178 1.692.53.395.353.594.812.594 1.376 0 .117-.014.323-.041.617a4.129 4.129 0 0 1-.152.811l-.757 2.68a7.582 7.582 0 0 0-.167.736 3.892 3.892 0 0 0-.073.626c0 .356.079.599.239.728.158.129.435.194.827.194.185 0 .392-.033.626-.097.232-.064.4-.121.506-.17l-.203.827Zm-.134-10.878a1.807 1.807 0 0 1-1.275.492c-.496 0-.924-.164-1.28-.492a1.57 1.57 0 0 1-.533-1.193c0-.465.18-.865.533-1.196a1.812 1.812 0 0 1 1.28-.497c.497 0 .923.165 1.275.497.353.331.53.731.53 1.196 0 .467-.177.865-.53 1.193Z",style:{fill:"#157ffb","fill-rule":"nonzero"},transform:"translate(-1.257 -1.257) scale(1.0582)"},null,-1),d=[l],u=e("p",{class:"custom-container-title"},"INFO",-1),m=e("p",null,[r("\u3010\u7B2C\u4E8C\u5C4A\u9752\u8BAD\u8425-\u5BD2\u5047\u524D\u7AEF\u573A\u3011\u8BFE\u7A0B web \u5F00\u53D1\u7684\u5B89\u5168\u4E4B\u65C5\u7684\u6269\u5C55\u7B14\u8BB0 \u9996\u53D1: "),e("a",{href:"https://forum.juejin.cn/youthcamp/post/7065874012001452045?from=4",target:"_blank",rel:"noopener noreferrer"},"\u3010\u7B2C\u4E8C\u5C4A\u9752\u8BAD\u8425-\u5BD2\u5047\u524D\u7AEF\u573A\u3011- web \u5B89\u5168\u7B14\u8BB0\uFF08\u4E8C\uFF09\u2014\u2014 CSRF")],-1),p=o(`<h2 id="csrf-cross-site-request-forgery" tabindex="-1"><a class="header-anchor" href="#csrf-cross-site-request-forgery" aria-hidden="true">#</a> <em>CSRF\uFF1ACross-site request forgery</em></h2><ul><li><em>Meaning</em><br><strong>\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020</strong>\uFF08Cross-site request forgery\uFF09\uFF0C\u4E5F\u88AB\u79F0\u4E3A <strong>one-click attack</strong> \u6216\u8005 <strong>session riding</strong>\uFF0C\u901A\u5E38\u7F29\u5199\u4E3A <strong>CSRF</strong> \u6216\u8005 <strong>XSRF</strong>\uFF0C \u662F\u4E00\u79CD\u631F\u5236\u7528\u6237\u5728\u5F53\u524D\u5DF2\u767B\u5F55\u7684 Web \u5E94\u7528\u7A0B\u5E8F\u4E0A\u6267\u884C\u975E\u672C\u610F\u7684\u64CD\u4F5C\u7684\u653B\u51FB\u65B9\u6CD5\u3002\u8DDF<strong>XSS</strong>\uFF08\u8DE8\u7F51\u7AD9\u811A\u672C\uFF09\u76F8\u6BD4\uFF0C<strong>XSS</strong> \u5229\u7528\u7684\u662F\u7528\u6237\u5BF9\u6307\u5B9A\u7F51\u7AD9\u7684\u4FE1\u4EFB\uFF0CCSRF \u5229\u7528\u7684\u662F\u7F51\u7AD9\u5BF9\u7528\u6237\u7F51\u9875\u6D4F\u89C8\u5668\u7684\u4FE1\u4EFB\u3002</li><li>\u4E2D\u5FC3\uFF1A<strong>\u6B3A\u9A97\u7528\u6237\u6D4F\u89C8\u5668\uFF0C\u8BA9\u5176\u4EE5\u7528\u6237\u7684\u540D\u4E49\u8FD0\u884C\u64CD\u4F5C</strong></li><li><em>Tips</em><ul><li>\u5728\u7528\u6237\u4E0D\u77E5\u60C5\u7684\u524D\u63D0\u4E0B</li><li>\u5229\u7528\u7528\u6237\u6743\u9650\uFF08cookie\uFF09</li><li>\u6784\u9020\u6307\u5B9A HTTP \u8BF7\u6C42\uFF0C\u7A83\u53D6\u6216\u4FEE\u6539\u7528\u6237\u654F\u611F\u4FE1\u606F</li></ul></li><li><em>example</em> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b08f733dd0642c697bff2a40e3fcc1d~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></li></ul><h2 id="csrf-\u7684\u5E38\u89C1\u5F62\u5F0F" tabindex="-1"><a class="header-anchor" href="#csrf-\u7684\u5E38\u89C1\u5F62\u5F0F" aria-hidden="true">#</a> CSRF \u7684\u5E38\u89C1\u5F62\u5F0F</h2><h3 id="csrf\u2014\u2014get" tabindex="-1"><a class="header-anchor" href="#csrf\u2014\u2014get" aria-hidden="true">#</a> CSRF\u2014\u2014GET</h3><ul><li>\u8D85\u94FE\u63A5<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;a href=&quot;https://bank.com/transfer?to=hacker&amp;amount=100&quot;&gt;\u70B9\u51FB\u62BD\u5956&lt;/a&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>\u56FE\u7247\u9690\u85CF\u94FE\u63A5<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;img style=&quot;display:none;&quot; src=&quot;https://bank.com/transfer?to=hacker&amp;amount=100&quot;/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>\u8868\u5355<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;form action=&quot;https://bank.com/transfer_tons_of_money&quot; method=&quot;POST&quot;&gt;
   &lt;input name=&quot;amount&quot; value=&quot;1000000000&quot; type=&quot;hidden&quot;/&gt;
   &lt;input name=&quot;to&quot; value=&quot;hacker&quot; type=&quot;hidden&quot;/&gt;
 &lt;/form&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="\u5982\u4F55\u9632\u5FA1-csrf" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u9632\u5FA1-csrf" aria-hidden="true">#</a> \u5982\u4F55\u9632\u5FA1 CSRF</h2><p>\u76EE\u524D\u9632\u5FA1 CSRF \u653B\u51FB\u4E3B\u8981\u6709<strong>\u4E09\u79CD\u7B56\u7565</strong></p><ol><li>\u9A8C\u8BC1 HTTP Referer \u5B57\u6BB5</li><li>\u5728\u8BF7\u6C42\u5730\u5740\u4E2D\u6DFB\u52A0 token \u5E76\u9A8C\u8BC1</li><li>\u5728 HTTP \u5934\u4E2D\u81EA\u5B9A\u4E49\u5C5E\u6027\u5E76\u9A8C\u8BC1</li></ol><h3 id="\u5728\u8BF7\u6C42\u5934\u90E8-http-\u5934\u6216-http-referer" tabindex="-1"><a class="header-anchor" href="#\u5728\u8BF7\u6C42\u5934\u90E8-http-\u5934\u6216-http-referer" aria-hidden="true">#</a> \u5728\u8BF7\u6C42\u5934\u90E8\uFF1AHTTP \u5934\u6216 HTTP Referer</h3><p>CSRF\uFF1A\u8BF7\u6C42\u6765\u6E90\u662F\u5F02\u5E38\u6765\u6E90\uFF0C\u53EF\u4EE5\u901A\u8FC7\u9650\u5236\u8BF7\u6C42\u6765\u6E90\uFF0C\u6765\u9632\u5FA1 CSRF \u653B\u51FB <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dac6a453b2b94fe4933fdd84debaed0e~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><h3 id="\u5728\u8BF7\u6C42\u5730\u5740\u4E2D\u6DFB\u52A0-token-\u5E76\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u5728\u8BF7\u6C42\u5730\u5740\u4E2D\u6DFB\u52A0-token-\u5E76\u9A8C\u8BC1" aria-hidden="true">#</a> \u5728\u8BF7\u6C42\u5730\u5740\u4E2D\u6DFB\u52A0 token \u5E76\u9A8C\u8BC1</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/68ff4bf0cde941cea349c12ac71f9be0~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f96353ff3a145e2a0b890f36fa806c9~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><h3 id="\u901A\u8FC7-iframe-\u653B\u51FB" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7-iframe-\u653B\u51FB" aria-hidden="true">#</a> \u901A\u8FC7 iframe \u653B\u51FB</h3><p>\u5728\u9875\u9762\u7684 iframe \u4E2D\u9690\u85CF\u4E00\u4E2A\u70B9\u51FB\uFF0C\u70B9\u51FB\u4E2D\u9690\u85CF\u4E00\u4E2A http \u8BF7\u6C42\uFF0C\u800C\u5728 iframe \u4E2D\u53D1\u751F\u7684\u8BF7\u6C42\u662F\u540C\u6E90\u8BF7\u6C42\uFF0C\u5C31\u5B8C\u6210\u653B\u51FB\u4E86 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be426674654a42b1834bea52a785e2b8~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"> \u53EF\u4EE5\u5229\u7528\u4E00\u4E2A HTTP \u54CD\u5E94\u5934\u90E8\u6765\u8FDB\u884C\u9632\u5FA1\uFF0C\u6765\u89C4\u907F\u901A\u8FC7 iframe \u8FD9\u79CD CSRF \u65B9\u5F0F\u8FDB\u884C\u653B\u51FB</p><ul><li><code>X-Frame-Options: DENY/SAMEORIGIN</code><ul><li><code>DENY</code>\uFF1A\u8868\u793A\u5F53\u524D\u9875\u9762\u4E0D\u80FD\u88AB\u5F53\u4F5C iframe \u8FDB\u884C\u52A0\u8F7D</li><li><code>SAMEORIGN</code>\uFF1A\u8868\u793A\u5FC5\u987B\u662F\u540C\u6E90\u7684\u9875\u9762\u624D\u80FD\u52A0\u8F7D\u6211\u8FD9\u4E2A iframe</li></ul></li></ul><p>CSRF \u7684\u4E00\u79CD\u653B\u51FB\u65B9\u5F0F\uFF1A\u4EE5\u4E3A\u5077\u61D2\u628A get \u8BF7\u6C42\u6539\u6210\u65E2\u53EF\u4EE5 get \u53C8\u53EF\u4EE5 post \u7684\u8BF7\u6C42\uFF0C\u8FD9\u4F1A\u5BFC\u81F4\u653B\u51FB\u8005\u653B\u51FB\u7684\u65F6\u5019\uFF0C\u65E2\u53EF\u4EE5\u83B7\u53D6\u7528\u6237\u6570\u636E\uFF0C\u4E5F\u53EF\u4EE5\u7BE1\u6539\u7528\u6237\u6570\u636E\uFF0C\u592A\u5371\u9669\u4E86\uFF01\uFF01 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33b6c093d58d4c2bacc683884078cc26~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><h3 id="samesite-cookie" tabindex="-1"><a class="header-anchor" href="#samesite-cookie" aria-hidden="true">#</a> SameSite Cookie</h3><p>\u53E6\u5916\u4E00\u79CD\u9632\u5FA1\u65B9\u6CD5 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/80a17cdd3621485d9ce8c9f3ed1defcc~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><ul><li>\u539F\u7406 <ul><li>CSRF \u662F\u5229\u7528\u7528\u6237\u6743\u9650\u6765\u5236\u4F5C\u653B\u51FB\uFF0C\u800C\u7528\u6237\u6743\u9650\u4E00\u822C\u5B58\u653E\u5728 Cookie \u4E2D\uFF0C\u5982\u679C\u6211\u4EEC\u7684 Cookie \u53EA\u80FD\u4E3A\u672C\u9875\u9762\u53D1\u9001\u7684\u8BF7\u6C42\u6240\u7528\uFF0C\u5176\u4ED6\u9875\u9762\u7684\u8BF7\u6C42\u90FD\u4E0D\u80FD\u5E26\u4E0A\u6211\u4EEC\u7684 Cookie\uFF0C\u90A3\u653B\u51FB\u8005\u5C31\u4E0D\u80FD\u8FDB\u884C\u8BF7\u6C42\u4F2A\u9020\u3002<strong>\u8FD9\u4ECE\u6839\u6E90\u4E0A\u89E3\u51B3\u4E86 CSRF \u7684\u653B\u51FB\u65B9\u5F0F</strong>\u3002</li></ul></li><li><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03c1ca2c631e4fd39b8b0c753bc8d9fd~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"><ul><li>\u9650\u5236 domain \u5C5E\u6027</li><li>\u9875\u9762\u57DF\u540D\u7684\u5339\u914D</li></ul></li></ul><h5 id="samesite-\u548C-cors-\u7684\u533A\u5206" tabindex="-1"><a class="header-anchor" href="#samesite-\u548C-cors-\u7684\u533A\u5206" aria-hidden="true">#</a> SameSite \u548C CORS \u7684\u533A\u5206</h5><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/876b10b8dcf64dbda8f1a8ac2d92f130~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><blockquote><p>\u5BF9\u4E8E CSRF \u653B\u51FB\uFF0C\u4E0D\u80FD\u9488\u5BF9\u67D0\u79CD\u653B\u51FB\u800C\u8FDB\u884C\u9632\u5FA1\uFF0C\u800C\u662F\u5E94\u8BE5\u5EFA\u7ACB\u4E00\u4E2A\u4E2D\u95F4\u4EF6\uFF08Middleware\uFF09\uFF0C\u5728\u5176\u4E2D\u53BB\u751F\u6210\u5404\u79CD\u9632\u5FA1 CSRF \u7684\u7B56\u7565</p></blockquote><h2 id="csrf-\u4E0E\u5176\u4ED6\u653B\u51FB\u7684\u4E00\u4E9B\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#csrf-\u4E0E\u5176\u4ED6\u653B\u51FB\u7684\u4E00\u4E9B\u533A\u522B" aria-hidden="true">#</a> CSRF \u4E0E\u5176\u4ED6\u653B\u51FB\u7684\u4E00\u4E9B\u533A\u522B</h2><h3 id="csrf-\u548C-xss-\u7684\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#csrf-\u548C-xss-\u7684\u5173\u7CFB" aria-hidden="true">#</a> CSRF \u548C XSS \u7684\u5173\u7CFB</h3><ul><li>\u4ECE\u540D\u5B57\u4E0A\u6765\u770B\uFF0C<strong><em>CSRF</em></strong> \u548C <strong><em>XSS</em></strong> \u540C\u4E3A\u8DE8\u7AD9\u653B\u51FB\uFF0CXSS \u653B\u51FB\u662F\u8DE8\u7AD9\u811A\u672C\u653B\u51FB\uFF0CCSRF \u653B\u51FB\u662F\u8BF7\u6C42\u4F2A\u9020\uFF0C\u4E5F\u5C31\u662F CSRF \u653B\u51FB\u672C\u4E0D\u662F\u51FA\u81EA\u7528\u6237\u4E4B\u624B\uFF0C\u5374\u7ECF\u8FC7\u7B2C\u4E09\u65B9\u6076\u610F\u653B\u51FB\u8005\u7684\u5904\u7406\uFF0C\u4F2A\u88C5\u6210\u4E86\u53D7\u4FE1\u4EFB\u7528\u6237\u7684\u201C\u4EB2\u5386\u4EB2\u4E3A\u201D\u3002</li><li>\u6211\u4EEC\u6240\u80FD\u89C1\u5230\u7684\u5927\u90E8\u5206\u7F51\u7AD9\uFF0C\u90FD\u662F\u901A\u8FC7 cookie \u7B49\u65B9\u5F0F\u8BB0\u5F55\u3001\u5206\u8FA8\u51FA\u53D7\u4FE1\u4EFB\u7528\u6237\u7684\u8EAB\u4EFD\uFF0C\u518D\u4E88\u4EE5\u6388\u6743\u7684\u3002\u6240\u4EE5\u8981\u4F2A\u9020\u7528\u6237\u7684\u6B63\u5E38\u64CD\u4F5C\uFF0C\u6700\u597D\u7684\u65B9\u6CD5\u662F\u901A\u8FC7 XSS \u6216\u94FE\u63A5\u5F15\u5BFC\u7B49\u9014\u5F84\uFF0C\u8BA9\u7528\u6237\u5728\u672C\u673A\u53D1\u8D77\u81EA\u5DF1\u6240\u4E0D\u77E5\u9053\u7684\u5371\u9669\u8BF7\u6C42\uFF0C\u4F7F\u5F97\u6076\u610F\u653B\u51FB\u6709\u673A\u53EF\u4E58\uFF0C\u83B7\u53D6\u7528\u6237 cookie \u7B49\u4FE1\u606F\uFF0C\u4EE5\u8FBE\u5230\u8EAB\u4EFD\u4F2A\u88C5\u76EE\u7684\u3002</li><li><strong>XSS \u662F\u5B9E\u73B0 CSRF \u7684\u8BF8\u591A\u9014\u5F84\u4E2D\u7684\u4E00\u6761\uFF0C\u4F46\u5E76\u4E0D\u662F\u552F\u4E00\u7684\u4E00\u6761\u3002</strong></li></ul><h3 id="csrf-\u548C-ssrf-\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#csrf-\u548C-ssrf-\u7684\u533A\u522B" aria-hidden="true">#</a> CSRF \u548C SSRF \u7684\u533A\u522B</h3><ul><li><strong><em>CSRF</em></strong>\uFF1ACross-site request forgery\uFF0C\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020 <ul><li>\u662F\u670D\u52A1\u5668\u7AEF\u6CA1\u6709\u5BF9\u7528\u6237\u63D0\u4EA4\u7684\u6570\u636E\u8FDB\u884C\u4E25\u683C\u7684\u628A\u63A7\uFF0C\u5BFC\u81F4\u653B\u51FB\u8005\u53EF\u4EE5\u5229\u7528\u7528\u6237\u7684 Cookie \u4FE1\u606F\u4F2A\u9020\u7528\u6237\u8BF7\u6C42\u53D1\u9001\u81F3\u670D\u52A1\u5668\u3002</li></ul></li><li><strong><em>SSRF</em></strong>\uFF1AServer Side RequestForgery\uFF0C\u670D\u52A1\u5668\u7AEF\u8BF7\u6C42\u4F2A\u9020 <ul><li>\u662F\u670D\u52A1\u5668\u5BF9\u7528\u6237\u63D0\u4F9B\u7684\u53EF\u63A7 URL \u5730\u5740\u8FC7\u4E8E\u4FE1\u4EFB\uFF0C\u6CA1\u6709\u7ECF\u8FC7\u4E25\u683C\u68C0\u6D4B\uFF0C\u5BFC\u81F4\u653B\u51FB\u8005\u53EF\u4EE5\u4EE5\u6B64\u4E3A\u8DF3\u677F\u653B\u51FB\u5185\u7F51\u6216\u5176\u4ED6\u670D\u52A1\u5668\u3002</li></ul></li></ul><blockquote><p>\u533A\u522B\u6765\u6E90\u4E8E\uFF1A<a href="https://www.yisu.com/zixun/498229.html" target="_blank" rel="noopener noreferrer">CSRF \u548C SSRF \u7684\u533A\u522B\u662F\u4EC0\u4E48 - \u7F51\u7EDC\u5B89\u5168 - \u4EBF\u901F\u4E91 (yisu.com)</a></p></blockquote><h2 id="\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h2><p>\u653B\u51FB\u8005\u5E76\u4E0D\u80FD\u901A\u8FC7 CSRF \u653B\u51FB\u6765\u76F4\u63A5\u83B7\u53D6\u7528\u6237\u7684\u8D26\u6237\u63A7\u5236\u6743\uFF0C\u4E5F\u4E0D\u80FD\u76F4\u63A5\u7A83\u53D6\u7528\u6237\u7684\u4EFB\u4F55\u4FE1\u606F\u3002<br> \u4ED6\u4EEC\u80FD\u505A\u5230\u7684\uFF0C\u662F<strong>\u6B3A\u9A97\u7528\u6237\u6D4F\u89C8\u5668\uFF0C\u8BA9\u5176\u4EE5\u7528\u6237\u7684\u540D\u4E49\u8FD0\u884C\u64CD\u4F5C</strong>\u3002</p><blockquote><p><a href="https://baike.baidu.com/item/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0/13777878?fromtitle=CSRF&amp;fromid=2735433&amp;fr=aladdin" target="_blank" rel="noopener noreferrer">\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020_\u767E\u5EA6\u767E\u79D1 (baidu.com)</a></p></blockquote>`,31);function f(h,g){return t(),i("div",null,[e("div",n,[(t(),i("svg",c,d)),u,m]),p])}var S=a(s,[["render",f],["__file","web\u5B89\u5168\u7B14\u8BB02_CSRF.html.vue"]]);export{S as default};
