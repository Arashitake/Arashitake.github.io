import{_ as p,o as s,c as a,b as n,e as t,d as e}from"./app.0d4c2068.js";const o={},c=n("h2",{id:"_0-ajax-\u5B9A\u4E49",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_0-ajax-\u5B9A\u4E49","aria-hidden":"true"},"#"),t(" 0. AJAX \u5B9A\u4E49")],-1),l=n("h3",{id:"what-is-ajax",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#what-is-ajax","aria-hidden":"true"},"#"),t(" what is AJAX")],-1),i=n("p",null,"AJAX\uFF08Asynchronous JavaScript And XML\uFF09\uFF0CAJAX \u5E76\u975E\u7F16\u7A0B\u8BED\u8A00\uFF0C\u5B83\u4EC5\u4EC5\u7EC4\u5408\u4E86\uFF1A",-1),u=n("ul",null,[n("li",null,"\u6D4F\u89C8\u5668\u5185\u5EFA\u7684 XMLHttpRequest \u5BF9\u8C61\uFF08\u4ECE web \u670D\u52A1\u5668\u8BF7\u6C42\u6570\u636E\uFF09"),n("li",null,"JavaScript \u548C HTML DOM\uFF08\u663E\u793A\u6216\u4F7F\u7528\u6570\u636E\uFF09")],-1),k={class:"custom-container info"},r={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},d=n("path",{d:"M13 1.188C6.477 1.188 1.188 6.477 1.188 13S6.477 24.813 13 24.813 24.813 19.523 24.813 13c0-6.523-5.29-11.812-11.813-11.812Zm2.459 18.307c-.608.24-1.092.422-1.455.548a3.838 3.838 0 0 1-1.262.189c-.736 0-1.309-.18-1.717-.539a1.74 1.74 0 0 1-.611-1.367c0-.215.015-.435.045-.659a8.23 8.23 0 0 1 .147-.759l.761-2.688c.067-.258.125-.503.171-.731.046-.23.068-.441.068-.633 0-.342-.071-.582-.212-.717-.143-.135-.412-.201-.813-.201-.196 0-.398.029-.605.09-.205.063-.383.12-.529.176l.201-.828c.498-.203.975-.377 1.43-.521a4.225 4.225 0 0 1 1.29-.218c.731 0 1.295.178 1.692.53.395.353.594.812.594 1.376 0 .117-.014.323-.041.617a4.129 4.129 0 0 1-.152.811l-.757 2.68a7.582 7.582 0 0 0-.167.736 3.892 3.892 0 0 0-.073.626c0 .356.079.599.239.728.158.129.435.194.827.194.185 0 .392-.033.626-.097.232-.064.4-.121.506-.17l-.203.827Zm-.134-10.878a1.807 1.807 0 0 1-1.275.492c-.496 0-.924-.164-1.28-.492a1.57 1.57 0 0 1-.533-1.193c0-.465.18-.865.533-1.196a1.812 1.812 0 0 1 1.28-.497c.497 0 .923.165 1.275.497.353.331.53.731.53 1.196 0 .467-.177.865-.53 1.193Z",style:{fill:"#157ffb","fill-rule":"nonzero"},transform:"translate(-1.257 -1.257) scale(1.0582)"},null,-1),v=[d],m=n("p",{class:"custom-container-title"},"INFO",-1),g=n("p",null,"Ajax \u662F\u4E00\u4E2A\u4EE4\u4EBA\u8BEF\u5BFC\u7684\u540D\u79F0\u3002Ajax \u5E94\u7528\u7A0B\u5E8F\u53EF\u80FD\u4F7F\u7528 XML \u6765\u4F20\u8F93\u6570\u636E\uFF0C\u4F46\u5C06\u6570\u636E\u4F5C\u4E3A\u7EAF\u6587\u672C\u6216 JSON \u6587\u672C\u4F20\u8F93\u4E5F\u540C\u6837\u5E38\u89C1\u3002 Ajax \u5141\u8BB8\u901A\u8FC7\u4E0E\u573A\u666F\u540E\u9762\u7684 Web \u670D\u52A1\u5668\u4EA4\u6362\u6570\u636E\u6765\u5F02\u6B65\u66F4\u65B0\u7F51\u9875\u3002\u8FD9\u610F\u5473\u7740\u53EF\u4EE5\u66F4\u65B0\u7F51\u9875\u7684\u90E8\u5206\uFF0C\u800C\u4E0D\u9700\u8981\u91CD\u65B0\u52A0\u8F7D\u6574\u4E2A\u9875\u9762\u3002",-1),b=e(`<h3 id="ajax-can-do" tabindex="-1"><a class="header-anchor" href="#ajax-can-do" aria-hidden="true">#</a> AJAX can do</h3><ol><li>\u4E0D\u5237\u65B0\u9875\u9762\u66F4\u65B0\u7F51\u9875</li><li>\u5728\u9875\u9762\u52A0\u8F7D\u540E\u4ECE\u670D\u52A1\u5668<strong>\u8BF7\u6C42</strong>\u6570\u636E</li><li>\u5728\u9875\u9762\u52A0\u8F7D\u540E\u4ECE\u670D\u52A1\u5668<strong>\u63A5\u6536</strong>\u6570\u636E</li><li>\u5728\u540E\u53F0\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E</li></ol><h3 id="how-to-work" tabindex="-1"><a class="header-anchor" href="#how-to-work" aria-hidden="true">#</a> How to work</h3><p><a href="https://www.w3school.com.cn/i/ajax.gif" target="_blank" rel="noopener noreferrer">AJAX \u5DE5\u4F5C\u539F\u7406\u56FE</a></p><ol><li>\u7F51\u9875\u4E2D\u53D1\u751F\u4E00\u4E2A\u4E8B\u4EF6\uFF08\u9875\u9762\u52A0\u8F7D\u3001\u6309\u94AE\u70B9\u51FB\uFF09</li><li>\u7531 JavaScript \u521B\u5EFA XMLHttpRequest \u5BF9\u8C61</li><li>XMLHttpRequest \u5BF9\u8C61\u5411 web \u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42</li><li>\u670D\u52A1\u5668\u5904\u7406\u8BE5\u8BF7\u6C42</li><li>\u670D\u52A1\u5668\u5C06\u54CD\u5E94\u53D1\u9001\u56DE\u7F51\u9875</li><li>\u7531 JavaScript \u8BFB\u53D6\u54CD\u5E94</li><li>\u7531 JavaScript \u6267\u884C\u6B63\u786E\u7684\u52A8\u4F5C\uFF08\u6BD4\u5982\u66F4\u65B0\u9875\u9762\uFF09</li></ol><h2 id="_1-ajax-\u8BF7\u6C42\u62A5\u6587\u548C\u54CD\u5E94\u62A5\u6587" tabindex="-1"><a class="header-anchor" href="#_1-ajax-\u8BF7\u6C42\u62A5\u6587\u548C\u54CD\u5E94\u62A5\u6587" aria-hidden="true">#</a> 1. AJAX \u8BF7\u6C42\u62A5\u6587\u548C\u54CD\u5E94\u62A5\u6587</h2><h3 id="\u8BF7\u6C42\u62A5\u6587" tabindex="-1"><a class="header-anchor" href="#\u8BF7\u6C42\u62A5\u6587" aria-hidden="true">#</a> \u8BF7\u6C42\u62A5\u6587</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u884C    POST /server HTTP/1.1
\u5934    Accept: */*
      Accept-Encoding: gzip, deflate, br, zstd
      Accept-Language: zh-CN,zh;q=0.9
      Connection: keep-alive
      Content-Length: 11
      Content-Type: text/plain;charset=UTF-8
      Host: 127.0.0.1:8000
      User-Agent: Chrome/101.0.0.0
\u7A7A\u884C
\u4F53    username=admin&amp;password=admin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u54CD\u5E94\u62A5\u6587" tabindex="-1"><a class="header-anchor" href="#\u54CD\u5E94\u62A5\u6587" aria-hidden="true">#</a> \u54CD\u5E94\u62A5\u6587</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u884C     HTTP/1.1 200 OK
\u5934     X-Powered-By: Express
      Access-Control-Allow-Origin: *
      Content-Type: text/html; charset=utf-8
      Content-Length: 19
      Connection: keep-alive
      Keep-Alive: timeout=5
\u7A7A\u884C
\u4F53    &lt;html&gt;......&lt;html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-ajax-\u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-get" tabindex="-1"><a class="header-anchor" href="#_2-ajax-\u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-get" aria-hidden="true">#</a> 2. AJAX \u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-GET</h2><h3 id="\u4F8B\u5B50-get" tabindex="-1"><a class="header-anchor" href="#\u4F8B\u5B50-get" aria-hidden="true">#</a> \u4F8B\u5B50-GET</h3><blockquote><p>\u9F20\u6807\u70B9\u51FB\u6309\u94AE\u53D1\u9001 get \u8BF7\u6C42</p></blockquote><ol><li>file <code>get.html</code>:</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>AJAX GET\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">#result</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #f00<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>\u70B9\u51FB\u53D1\u9001\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u521B\u5EFA\u5BF9\u8C61</span>
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u521D\u59CB\u5316\uFF0C\u8BBE\u7F6E\u8BF7\u6C42\u65B9\u6CD5\u548Curl</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8000/server&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u53D1\u9001</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. \u4E8B\u4EF6\u7ED1\u5B9A \u5904\u7406\u670D\u52A1\u7AEF\u8FD4\u56DE\u7684\u7ED3\u679C</span>
        <span class="token comment">// on\uFF1Awhen</span>
        <span class="token comment">// readystate\uFF1A\u662Fxhr\u5BF9\u8C61\u4E2D\u7684\u5C5E\u6027\uFF0C\u8868\u793A\u72B6\u6001\u662F0\uFF0C1\uFF0C2\uFF0C3\uFF0C4\uFF08\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728\u72B6\u6001\u66F4\u6539\u65F6\u89E6\u53D1\uFF09</span>
        <span class="token comment">// change</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u5224\u65AD(\u670D\u52A1\u7AEF\u8FD4\u56DE\u4E86\u6240\u6709\u7684\u7ED3\u679C)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5224\u65AD\u54CD\u5E94\u72B6\u6001\u7801,2xx\u90FD\u662F\u8868\u793A\u6210\u529F</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u5904\u7406\u7ED3\u679C: \u884C \u5934 \u7A7A\u884C \u4F53</span>
              <span class="token comment">// 1.\u54CD\u5E94\u884C</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u72B6\u6001\u7801:200</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u72B6\u6001\u5B57\u7B26\u4E32:OK</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6240\u6709\u54CD\u5E94\u5934</span>
              <span class="token comment">// 2. \u54CD\u5E94\u4F53</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

              <span class="token comment">// \u8BBE\u7F6E\u6587\u672C</span>
              result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>file <code>server.js</code>:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. \u5F15\u5165express</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. \u521B\u5EFA\u5E94\u7528\u5BF9\u8C61</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3. \u521B\u5EFA\u8DEF\u7531\u89C4\u5219</span>
<span class="token comment">// request \u5BF9\u8BF7\u6C42\u62A5\u6587\u7684\u5C01\u88C5</span>
<span class="token comment">// response \u5BF9\u54CD\u5E94\u62A5\u6587\u7684\u5C01\u88C5</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/server&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u5934 \u8BBE\u7F6E\u5141\u8BB8\u8DE8\u57DF</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u4F53</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Hello AJAX!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4. \u76D1\u542C\u7AEF\u53E3\u542F\u52A8\u670D\u52A1</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6B63\u5728\u76D1\u542C\u7AEF\u53E38000, http://127.0.0.1:8000, ......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2024/05/31/4918YidzqKTOQ3v.png" alt="\u7ED3\u679C\u56FE"></p><h3 id="\u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-get" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-get" aria-hidden="true">#</a> \u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-GET</h3><p>\u5728 url \u540E\u9762\u7528<code>?</code>\u5206\u5272, \u53C2\u6570\u4E4B\u95F4\u7528<code>&amp;</code>\u8FDE\u63A5, \u62FC\u63A5\u53C2\u6570\u548C\u503C: <code>http://127.0.0.1:8000/server?a=100&amp;b=200</code><img src="https://s2.loli.net/2024/05/31/PixpTt2lEULVjvd.png" alt="\u63A7\u5236\u53F0\u56FE GET"></p><h2 id="_3-ajax-\u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-post" tabindex="-1"><a class="header-anchor" href="#_3-ajax-\u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-post" aria-hidden="true">#</a> 3. AJAX \u8BF7\u6C42\u7684\u57FA\u7840\u64CD\u4F5C-POST</h2><h3 id="\u4F8B\u5B50-post" tabindex="-1"><a class="header-anchor" href="#\u4F8B\u5B50-post" aria-hidden="true">#</a> \u4F8B\u5B50-POST</h3><blockquote><p>\u9F20\u6807\u79FB\u5165<code>&lt;div&gt;</code>\u5185\u53D1\u9001 post \u8BF7\u6C42</p></blockquote><ol><li>file <code>post.html</code>:</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>AJAX POST\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">#result</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #f00<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u7ED1\u5B9A\u4E8B\u4EF6</span>
      result<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u521B\u5EFA\u5BF9\u8C61</span>
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u521D\u59CB\u5316</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8000/server&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u53D1\u9001</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. \u4E8B\u4EF6\u7ED1\u5B9A,\u5904\u7406\u7ED3\u679C</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>file <code>server.js</code>:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728\u4E0A\u9762\u7684\u90A3\u4E2A server.js \u6587\u4EF6\u4E2D\u6DFB\u52A0</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/server&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u5934 \u8BBE\u7F6E\u5141\u8BB8\u8DE8\u57DF</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u4F53</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Hello AJAX by POST!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2024/05/31/GkIXxnCFcDPsNQZ.png" alt="\u63A7\u5236\u53F0\u56FE by POST"></p><h3 id="\u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-post" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-post" aria-hidden="true">#</a> \u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570-POST</h3><p>\u5728<code>xhr.send()</code>\u4E2D\u5F53\u53C2\u6570\u4F20\u9012\u8FC7\u53BB: <code>xhr.send(&#39;a=100&amp;b=200&#39;)</code></p><blockquote><p>post \u7684\u8BF7\u6C42\u53C2\u6570\u53EF\u4EE5\u4EFB\u610F\u683C\u5F0F, \u90FD\u662F\u4F20\u9012\u7ED9\u540E\u7AEF\u53BB\u5904\u7406\u7684, \u4E00\u822C\u5B9E\u9645\u4E2D\u662F\u4F20\u9012\u4E00\u4E2A json \u683C\u5F0F\u8FC7\u53BB</p></blockquote><p><img src="https://s2.loli.net/2024/05/31/Ho8EdaMxu2VeJAn.png" alt="\u63A7\u5236\u53F0\u56FE POST"></p><h2 id="_4-ajax-\u8BBE\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_4-ajax-\u8BBE\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F" aria-hidden="true">#</a> 4. AJAX \u8BBE\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F</h2><p>\u5728\u521D\u59CB\u5316\u548C\u53D1\u9001\u4E4B\u95F4\u8BBE\u7F6E\u8BF7\u6C42\u5934:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. \u521B\u5EFA\u5BF9\u8C61</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. \u521D\u59CB\u5316</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8000/server&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. \u8BBE\u7F6E\u8BF7\u6C42\u5934</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4. \u53D1\u9001</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;a=100&amp;b=200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Content-Type</code>: \u8BBE\u7F6E\u8BF7\u6C42\u4F53\u7684\u7C7B\u578B</p></blockquote><p>\u9884\u5B9A\u4E49\u7684\u8BF7\u6C42\u5934(\u672C\u6765\u5C31\u6709\u7684), \u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u5934\u8BBE\u7F6E\u4E4B\u524D, \u8981\u5728\u540E\u7AEF\u5148\u5B9A\u4E49, \u4E0D\u7136\u4F1A\u62A5\u9519</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u53EF\u4EE5\u63A5\u53D7\u4EFB\u610F\u7C7B\u578B\u8BF7\u6C42</span>
app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&quot;/server&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u5934 \u8BBE\u7F6E\u5141\u8BB8\u8DE8\u57DF</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u54CD\u5E94\u5934</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u4F53</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Hello AJAX by POST!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-ajax-\u670D\u52A1\u7AEF\u54CD\u5E94-json-\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-ajax-\u670D\u52A1\u7AEF\u54CD\u5E94-json-\u6570\u636E" aria-hidden="true">#</a> 5. AJAX \u670D\u52A1\u7AEF\u54CD\u5E94 JSON \u6570\u636E</h2><p>file <code>JSON.html</code>:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// \u7ED1\u5B9A\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u7ED1\u5B9A\u4E8B\u4EF6</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. \u521B\u5EFA\u5BF9\u8C61</span>
      <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u4F53\u6570\u636E\u7684\u7C7B\u578B</span>
      xhr<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 2. \u521D\u59CB\u5316</span>
      xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://127.0.0.1:8000/json-server&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 3. \u53D1\u9001</span>
      xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 4. \u4E8B\u4EF6\u7ED1\u5B9A,\u5904\u7406\u7ED3\u679C</span>
      xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. \u624B\u52A8: \u5BF9\u6570\u636E\u8FDB\u884C\u8F6C\u6362</span>
            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
            <span class="token comment">// 2. \u81EA\u52A8: \u8BBE\u7F6E repsonseType</span>
            result<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>file <code>server.js</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&quot;/json-server&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u5934 \u8BBE\u7F6E\u5141\u8BB8\u8DE8\u57DF</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u54CD\u5E94\u5934</span>
  response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u203B \u5BF9\u5BF9\u8C61\u8FDB\u884C\u5B57\u7B26\u4E32\u8F6C\u6362</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;balabala&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8BBE\u7F6E\u54CD\u5E94\u4F53</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43);function h(q,x){return s(),a("div",null,[c,l,i,u,n("div",k,[(s(),a("svg",r,v)),m,g]),b])}var y=p(o,[["render",h],["__file","1.AJAX\u57FA\u7840.html.vue"]]);export{y as default};
