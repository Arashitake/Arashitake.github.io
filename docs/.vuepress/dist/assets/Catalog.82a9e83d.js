import{$ as j,a0 as I,a1 as q,u as z,m as y,B as T,_ as E,f as U,k as C,r as x,o as u,c as d,h as s,a as v,N as B,z as h,b,t as w,w as A,L as G,M as J,e as Q,j as N,q as K,J as W,Q as X,R as Y,a2 as Z,C as tt,y as D,g as et,l as nt,a3 as R}from"./app.f9568f53.js";const at=e=>!j(e)||/github\.com/.test(e)?"GitHub":/bitbucket\.org/.test(e)?"Bitbucket":/gitlab\.com/.test(e)?"GitLab":/gitee\.com/.test(e)?"Gitee":null,st={GitHub:":repo/edit/:branch/:path",GitLab:":repo/-/edit/:branch/:path",Gitee:":repo/edit/:branch/:path",Bitbucket:":repo/src/:branch/:path?mode=edit&spa=0&at=:branch&fileviewer=file-view-default"},ot=({docsRepo:e,editLinkPattern:n})=>{if(n)return n;const r=at(e);return r!==null?st[r]:null},rt=({docsRepo:e,docsBranch:n,docsDir:r,filePathRelative:o,editLinkPattern:_})=>{if(!o)return null;const i=ot({docsRepo:e,editLinkPattern:_});return i?i.replace(/:repo/,j(e)?e:`https://github.com/${e}`).replace(/:branch/,n).replace(/:path/,I(`${q(r)}/${o}`)):null};let S=null,$=null;const lt={wait:()=>S,pending:()=>{S=new Promise(e=>$=e)},resolve:()=>{$==null||$(),S=null,$=null}},xt=()=>lt,Gt=()=>{const e=z(),n=T();return y(()=>(n.value.frontmatter.layout==="Post"||n.value.frontmatter.layout==="P"||n.value.frontmatter.layout==="Layout")&&n.value.frontmatter.catalog!==!1&&(e.value.catalog||n.value.frontmatter.catalog)&&n.value.headers.length>0)},it={class:"page-meta"},ut={key:0,class:"meta-item edit-link"},ct={key:1,class:"meta-item last-updated"},mt={class:"meta-item-label"},dt={class:"meta-item-info"},pt={key:2,class:"meta-item contributors"},_t={class:"meta-item-label"},ht={class:"meta-item-info"},vt=["title"],ft=Q(", "),gt=U({__name:"PageMeta",setup(e){const n=()=>{const t=C(),c=T(),m=N();return y(()=>{var V,F,O;if(!((F=(V=m.value.editLink)!=null?V:t.value.editLink)!=null?F:!0))return null;const{repo:a,docsRepo:l=a,docsBranch:k="main",docsDir:L="",editLinkText:P}=t.value;if(!l)return null;const M=rt({docsRepo:l,docsBranch:k,docsDir:L,filePathRelative:c.value.filePathRelative,editLinkPattern:(O=m.value.editLinkPattern)!=null?O:t.value.editLinkPattern});return M?{text:P!=null?P:"Edit this page",link:M}:null})},r=()=>{const t=C(),c=T(),m=N();return y(()=>{var l,k,L,P;return!((k=(l=m.value.lastUpdated)!=null?l:t.value.lastUpdated)!=null?k:!0)||!((L=c.value.git)!=null&&L.updatedTime)?null:new Date((P=c.value.git)==null?void 0:P.updatedTime).toLocaleString()})},o=()=>{const t=C(),c=T(),m=N();return y(()=>{var a,l,k,L;return((l=(a=m.value.contributors)!=null?a:t.value.contributors)!=null?l:!0)&&(L=(k=c.value.git)==null?void 0:k.contributors)!=null?L:null})},_=C(),i=n(),f=r(),p=o();return(t,c)=>{const m=x("VIcon"),g=x("ClientOnly");return u(),d("footer",it,[s(i)?(u(),d("div",ut,[v(m,{name:"fa-pencil-alt"}),v(B,{class:"meta-item-label",item:s(i)},null,8,["item"])])):h("",!0),s(f)?(u(),d("div",ct,[b("span",mt,w(s(_).lastUpdatedText)+": ",1),v(g,null,{default:A(()=>[b("span",dt,w(s(f)),1)]),_:1})])):h("",!0),s(p)&&s(p).length?(u(),d("div",pt,[b("span",_t,w(s(_).contributorsText)+": ",1),b("span",ht,[(u(!0),d(G,null,J(s(p),(a,l)=>(u(),d(G,{key:l},[b("span",{class:"contributor",title:`email: ${a.email}`},w(a.name),9,vt),l!==s(p).length-1?(u(),d(G,{key:0},[ft],64)):h("",!0)],64))),128))])])):h("",!0)])}}});var kt=E(gt,[["__file","PageMeta.vue"]]);const Lt={key:0,class:"page-nav"},bt={class:"inner"},yt={key:0,class:"prev"},Pt={key:1,class:"next"},$t=U({__name:"PageNav",setup(e){const n=t=>t===!1?null:X(t)?Y(t):Z(t)?t:!1,r=(t,c,m)=>{const g=t.findIndex(a=>a.link===c);if(g!==-1){const a=t[g+m];return a!=null&&a.link?a:null}for(const a of t)if(a.children){const l=r(a.children,c,m);if(l)return l}return null},o=N(),_=K(),i=W(),f=y(()=>{const t=n(o.value.prev);return t!==!1?t:r(_.value,i.path,-1)}),p=y(()=>{const t=n(o.value.next);return t!==!1?t:r(_.value,i.path,1)});return(t,c)=>s(f)||s(p)?(u(),d("nav",Lt,[b("p",bt,[s(f)?(u(),d("span",yt,[v(B,{item:s(f)},null,8,["item"])])):h("",!0),s(p)?(u(),d("span",Pt,[v(B,{item:s(p)},null,8,["item"])])):h("",!0)])])):h("",!0)}});var Ct=E($t,[["__file","PageNav.vue"]]);const Nt={class:"page"},wt={class:"theme-gungnir-content"},Dt=U({__name:"Page",setup(e){const n=C(),r=N(),{isDarkMode:o}=tt(),_=y(()=>o.value?n.value.giscusDarkTheme:n.value.giscusLightTheme);return(i,f)=>{const p=x("Content"),t=x("GungnirGiscus");return u(),d("main",Nt,[D(i.$slots,"top"),b("div",wt,[D(i.$slots,"content-top"),v(p),D(i.$slots,"content-bottom")]),v(kt),v(Ct),D(i.$slots,"bottom"),s(r).giscus!==!1?(u(),et(t,{key:0,theme:s(_)},null,8,["theme"])):h("",!0)])}}});var St=E(Dt,[["__file","Page.vue"]]);const H=({headers:e,activeLink:n})=>{const r=nt();return R("ul",{class:{catalog:!0}},e.map(o=>R("li",{class:{active:n===o.slug,[`level-${o.level}`]:!0,[`toc-link-${o.slug}`]:!0},key:o.title,onClick:()=>{r.currentRoute.value.hash!==`#${o.slug}`&&r.push(`#${o.slug}`)}},o.title)))};H.displayName="Catalog";H.props={headers:{type:Object,required:!0},activeLink:{type:String,default:""}};export{H as C,St as P,xt as a,Gt as u};
