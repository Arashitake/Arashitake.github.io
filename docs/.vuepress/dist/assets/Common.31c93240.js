import{N as q,S as E,M,F as O}from"./Sidebar.51f1795d.js";import{_ as P,f as V,j as z,k as G,l as R,m as u,n as X,q as Y,s as b,v as j,x as A,r as L,o as h,c as U,y as o,h as c,g as y,w as i,z as T,b as $,a as m,A as J}from"./app.f9568f53.js";const K={class:"page-content"},Q=V({__name:"Common",setup(W){const p=z(),k=G(),N=R(),S=u(()=>p.value.navbar!==!1&&k.value.navbar!==!1),x=u(()=>X.value.path===""),w=Y(),d=u(()=>w.value.length>0&&!x.value),v=b(!1),s=e=>{v.value=typeof e=="boolean"?e:!v.value},t={x:0,y:0},B=e=>{t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY},F=e=>{const a=e.changedTouches[0].clientX-t.x,l=e.changedTouches[0].clientY-t.y;Math.abs(a)>Math.abs(l)&&Math.abs(a)>40&&(a>0&&t.x<=80?s(!0):s(!1))},n=b(!1),r=e=>{n.value=typeof e=="boolean"?e:!n.value;const a=document.querySelector("html");n.value?a==null||a.classList.add("fixed"):a==null||a.classList.remove("fixed"),n.value&&setTimeout(function(){document.querySelector(".search-page input").focus()},400)},g=b(!1),I=e=>{g.value=typeof e=="boolean"?e:!g.value},_=u(()=>[{"no-navbar":!S.value,"no-sidebar":!d.value,"sidebar-open":v.value,"catalog-open":g.value,"search-open":n.value},p.value.pageClass]);let C;return j(()=>{C=N.afterEach(()=>{s(!1),r(!1)})}),A(()=>{C()}),(e,a)=>{const l=L("GungnirSearchPage");return h(),U("div",{class:J(["theme-container",c(_)]),onTouchstart:B,onTouchend:F},[o(e.$slots,"navbar",{},()=>[c(S)?(h(),y(q,{key:0,"is-sidebar":c(d),onToggleSearch:a[0]||(a[0]=f=>r(!0))},{before:i(()=>[o(e.$slots,"navbar-before")]),after:i(()=>[o(e.$slots,"navbar-after")]),_:3},8,["is-sidebar"])):T("",!0)]),$("div",{class:"sidebar-mask",onClick:a[1]||(a[1]=f=>s(!1))}),o(e.$slots,"sidebar",{},()=>[m(E,{onToggleSearch:a[2]||(a[2]=f=>r(!0))},{top:i(()=>[o(e.$slots,"sidebar-top")]),bottom:i(()=>[o(e.$slots,"sidebar-bottom")]),_:3})]),$("div",K,[o(e.$slots,"page")]),m(l,{onToggleSearch:a[3]||(a[3]=f=>r(!1))}),m(M,{onToggleSidebar:s,onToggleCatalog:I}),c(d)?T("",!0):(h(),y(O,{key:0}))],34)}}});var H=P(Q,[["__file","Common.vue"]]);export{H as C};
